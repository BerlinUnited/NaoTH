/*
 * DebugRequestPanel.java
 *
 * Created on 9. Mai 2008, 11:55
 */
package de.hu_berlin.informatik.ki.nao.dialogs;

import de.hu_berlin.informatik.ki.nao.Dialog;
import de.hu_berlin.informatik.ki.nao.Main;
import de.hu_berlin.informatik.ki.nao.dialogs.panels.NDTreeNode;
import de.hu_berlin.informatik.ki.nao.manager.ObjectListener;
import de.hu_berlin.informatik.ki.nao.server.Command;
import de.hu_berlin.informatik.ki.nao.server.CommandSender;
import de.hu_berlin.informatik.ki.nao.server.MessageServer;
import java.util.Enumeration;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.tree.DefaultMutableTreeNode;
import javax.swing.tree.DefaultTreeModel;
import javax.swing.tree.MutableTreeNode;
import javax.swing.tree.TreePath;

/**
 *
 * @author  Heinrich Mellmann
 */
public class DebugRequestPanel extends Dialog
  implements CommandSender, ObjectListener<String[]>
{

  private Main parent;
  MessageServer server;

  /** Creates new form DebugRequestPanel */
  public DebugRequestPanel()
  {
    initComponents();
  }

  public void init(Main parent)
  {
    this.parent = parent;
    server = parent.getMessageServer();

  }

  public JPanel getPanel()
  {
    return this;
  }

  /** This method is called from within the constructor to
   * initialize the form.
   * WARNING: Do NOT modify this code. The content of this method is
   * always regenerated by the Form Editor.
   */
  // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
  private void initComponents() {

    jToolBar1 = new javax.swing.JToolBar();
    btRefresh = new javax.swing.JToggleButton();
    splitPane = new javax.swing.JSplitPane();
    panelFav = new javax.swing.JPanel();
    btAdd = new javax.swing.JButton();
    btRemove = new javax.swing.JButton();

    jToolBar1.setRollover(true);

    btRefresh.setText("Refresh");
    btRefresh.setFocusable(false);
    btRefresh.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
    btRefresh.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
    btRefresh.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btRefreshActionPerformed(evt);
      }
    });
    jToolBar1.add(btRefresh);

    splitPane.setOrientation(javax.swing.JSplitPane.VERTICAL_SPLIT);
    splitPane.setResizeWeight(0.75);

    btAdd.setIcon(new javax.swing.ImageIcon(getClass().getResource("/de/hu_berlin/informatik/ki/nao/res/arrowdown.png"))); // NOI18N
    btAdd.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btAddActionPerformed(evt);
      }
    });

    btRemove.setIcon(new javax.swing.ImageIcon(getClass().getResource("/de/hu_berlin/informatik/ki/nao/res/arrowup.png"))); // NOI18N
    btRemove.addActionListener(new java.awt.event.ActionListener() {
      public void actionPerformed(java.awt.event.ActionEvent evt) {
        btRemoveActionPerformed(evt);
      }
    });

    javax.swing.GroupLayout panelFavLayout = new javax.swing.GroupLayout(panelFav);
    panelFav.setLayout(panelFavLayout);
    panelFavLayout.setHorizontalGroup(
      panelFavLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelFavLayout.createSequentialGroup()
        .addComponent(btAdd)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(btRemove)
        .addContainerGap(39, Short.MAX_VALUE))
    );
    panelFavLayout.setVerticalGroup(
      panelFavLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(panelFavLayout.createSequentialGroup()
        .addGroup(panelFavLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
          .addComponent(btAdd)
          .addComponent(btRemove))
        .addContainerGap(49, Short.MAX_VALUE))
    );

    splitPane.setRightComponent(panelFav);

    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
    this.setLayout(layout);
    layout.setHorizontalGroup(
      layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, 101, Short.MAX_VALUE)
      .addComponent(splitPane, javax.swing.GroupLayout.DEFAULT_SIZE, 101, Short.MAX_VALUE)
    );
    layout.setVerticalGroup(
      layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
      .addGroup(layout.createSequentialGroup()
        .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
        .addComponent(splitPane, javax.swing.GroupLayout.DEFAULT_SIZE, 118, Short.MAX_VALUE))
    );
  }// </editor-fold>//GEN-END:initComponents
    private void btRefreshActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btRefreshActionPerformed
      if (btRefresh.isSelected())
      {
        if (parent.checkConnected())
        {
        } else
        {
          btRefresh.setSelected(false);
        }
      } else
      {
      }
    }//GEN-LAST:event_btRefreshActionPerformed

    private void btAddActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_btAddActionPerformed
    {//GEN-HEADEREND:event_btAddActionPerformed


    }//GEN-LAST:event_btAddActionPerformed

    private void btRemoveActionPerformed(java.awt.event.ActionEvent evt)//GEN-FIRST:event_btRemoveActionPerformed
    {//GEN-HEADEREND:event_btRemoveActionPerformed


    }//GEN-LAST:event_btRemoveActionPerformed

  public void errorOccured(String cause)
  {
    btRefresh.setSelected(false);
  }

  public void newObjectReceived(String[] object)
  {
    btRefresh.setSelected(false);
  }//end newObjectReceived

  private void send(Command command)
  {
    if (parent.checkConnected())
    {
      server.executeSingleCommand(this, command);
    }
  }

  public void handleResponse(byte[] result, Command originalCommand)
  {
  }

  public void handleError(int code)
  {
  }

  public Command getCurrentCommand()
  {
    return new Command();
  }

  private String joinPath(TreePath path)
  {
    StringBuilder builder = new StringBuilder();

    Object[] asArray = path.getPath();

    // skip "root", start at 1
    for (int i = 1; i < asArray.length; i++)
    {
      if (i > 1)
      {
        builder.append(":");
      }
      builder.append(asArray[i].toString());
    }

    return builder.toString();
  }

  public void dispose()
  {
    System.out.println("Dispose is not implemented for: " + this.getClass().getName());
  }//end dispose
    
  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JButton btAdd;
  private javax.swing.JToggleButton btRefresh;
  private javax.swing.JButton btRemove;
  private javax.swing.JToolBar jToolBar1;
  private javax.swing.JPanel panelFav;
  private javax.swing.JSplitPane splitPane;
  // End of variables declaration//GEN-END:variables
}
