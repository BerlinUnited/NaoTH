/** The root option of the soccer behavior */
option soccer_agent {

  common decision
  {
    if (game.phase == penaltyshoot)
        goto penalty_shootout;
     else if (game.phase == normal)
        goto normal_soccer;
  }
  
  initial state idle{
    decision {
      else
        goto normal_soccer;
    }
    action {}
  }

  state normal_soccer{
    // copied from roles_agent
    action {
      // react to the game controller and handle fall down
      basic_play();

      situationStatusOwnHalf = true;

      roles_play_soccer();

      // control the arms
      arms_control();
      
      // control head movement according to value of head.control_mode
      head_control();

    }
  }

  state penalty_shootout{
    action {
      // react to the game controller and handle fall down
      basic_play();

      penalty_decide_state_and_role();

      // control the arms
      arms_control();
      
      // control head movement according to value of head.control_mode
      head_control();
    }
  }
}
